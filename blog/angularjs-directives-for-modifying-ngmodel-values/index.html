<!DOCTYPE html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=description content="Recently I created a set of AngularJS directives allowing you to prepend or append a string to the model value of a ngModel without affecting its view value. For example, you might want to prepend `http://` to a web address input field instead of asking the user to enter it. And you want this to happen before sending its form to the server."><title>AngularJS directives for modifying ngModel values | David Chin</title><link rel=canonical href="http://davidchin.me/blog/angularjs-directives-for-modifying-ngmodel-values/"><link rel=stylesheet href="http://fonts.googleapis.com/css?family=Fira+Sans:300,400,700,300italic,400italic,700italic"><link rel=stylesheet href=/css/application.c2d4.css><script>window.disqus_shortname = "davidchin-blog"</script></head><body class=""><header class=global-header><div class=global-header__container><nav class=global-navigation><button id=navicon-button class=navicon-button><i class="navicon-button__icon ion-navicon"></i></button><ul class=global-navigation__menu><li><a href=/blog>Blog</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><a href="/" class=global-header__logo>David Chin</a></div></header><article><header class=page-header><div class=page-header__container><h1 class=page-header__title>AngularJS directives for modifying ngModel values</h1></div></header><div class=page-content><div class=content-column><div class=blog-article><p class=blog-article__meta><strong>angularjs</strong> / 27 April 2014 / <a href=/blog/angularjs-directives-for-modifying-ngmodel-values/#disqus_thread data-disqus-identifier="/blog/angularjs-directives-for-modifying-ngmodel-values/">0 Comments</a></p><p>Recently I created a set of AngularJS directives allowing you to prepend or append a string to the model value of a ngModel without affecting its view value. For example, you might want to prepend <code>http://</code> to a web address input field instead of asking the user to enter it. And you want this to happen before sending its form to the server.</p><p>One way to do it is to put the logic inside your controller and process the form data before sending it. Another way to do it so to put the logic inside a reusable directive and declare the add-on behaviour in the view. Personally, I prefer the latter. And you can achieve it by adding a parser and a formatter to the ngModel directive you wish to modify.</p><h2 id=background>Background</h2><p>As you might already know, ngModel has parsers and formatters allowing you to modify its model and view value. Its model value (<code>$modelValue</code>) refers to the value of the scope property that is bound to the directive. Its view value (<code>$viewValue</code>), on the other hand, refers to the value displayed in the input field of the directive.</p><h2 id=download>Download</h2><p>You can clone the project at <a href=https://github.com/davidchin/angular-input-add-on>GitHub</a> or download it using Bower:</p><pre><code>bower install angular-input-add-on
</code></pre><p>The source code demonstrates the usage of a parser and formatter to change the model value of a ngModel and affect its display in the input field.</p><h2 id=example-usage>Example usage</h2><p>You can use the <code>input-prepend</code> directive like this.</p><div class=highlight><pre><code class=language-html data-lang=html><span class=nt>&lt;div</span> <span class=na>class=</span><span class=s>&quot;input-group&quot;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;span</span> <span class=na>class=</span><span class=s>&quot;input-group-addon&quot;</span><span class=nt>&gt;</span>http://<span class=nt>&lt;/span&gt;</span>
  <span class=nt>&lt;input</span> <span class=na>ng-model=</span><span class=s>&quot;name&quot;</span> <span class=na>input-prepend=</span><span class=s>&quot;http://&quot;</span> <span class=na>type=</span><span class=s>&quot;text&quot;</span> <span class=na>class=</span><span class=s>&quot;form-control&quot;</span><span class=nt>&gt;</span>
<span class=nt>&lt;/div&gt;</span></code></pre></div><p>The example uses a span label to indicate to the user that ‘http://’ is pre-filled. And <code>input-prepend="http://"</code> declares that its attribute value would get prepended to the user input. <code>input-append</code> works the same way except it appends the string to the end instead. Also, you can use both directives at once if you wish to prepend as well as append strings to a field.</p><p>The directives are delegated with the responsibility of handling the logic of modifying a user’s input, without having to worry about other parts of the application logic. Because of their declarative nature, they can be easily reused and help to reduce the size of your controller. Also, they can be chained with other parsers and formatters to control the modification of a bound scope property as a whole.</p></div><div class=blog-comment><div id=disqus_thread></div><script type=text/javascript>var disqus_identifier = "/blog/angularjs-directives-for-modifying-ngmodel-values/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></article><footer class=global-footer><div class=global-footer__container><nav class=global-footer-navigation><ul><li><a href=//au.linkedin.com/in/davidchin86 target=_blank>LinkedIn</a></li><li><a href=//github.com/davidchin target=_blank>GitHub</a></li><li><a href=//flickr.com/dyfchin target=_blank>Flickr</a></li><li><a href=/blog>Blog</a></li></ul></nav><aside class=fine-print-footer><div>&copy; All rights reserved.</div><div>Built with Jekyll, CoffeeScript, SASS &amp; Grunt. View <a href=//github.com/davidchin/davidchin.github.io target=_blank>source</a></div></aside></div></footer><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41589871-1', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');</script><!-- Disqus --><script>(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());</script><!-- CDN --><script src=https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js></script><!-- Packaged JS --><script src=/js/application.c54b.js></script></body></html>